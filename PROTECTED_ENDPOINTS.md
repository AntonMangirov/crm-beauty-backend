# üîí –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º API –∏ –∏—Ö –ø—Ä–æ–≤–µ—Ä–∫–µ.

## –û–±–∑–æ—Ä

–í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ç—Ä–µ–±—É—é—Ç –≤–∞–ª–∏–¥–Ω—ã–π JWT access token –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization`:
```
Authorization: Bearer <access_token>
```

Access token –∏–º–µ–µ—Ç —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ **15 –º–∏–Ω—É—Ç**. –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–æ–∫–µ–Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –µ–≥–æ —á–µ—Ä–µ–∑ `/api/auth/refresh`, –∏—Å–ø–æ–ª—å–∑—É—è refresh token –∏–∑ HttpOnly cookie.

## –°–ø–∏—Å–æ–∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`/api/auth`)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –¢—Ä–µ–±—É–µ—Ç Auth |
|-------|------|----------|--------------|
| POST | `/api/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚ùå |
| POST | `/api/auth/login` | –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É | ‚ùå |
| POST | `/api/auth/refresh` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access token | ‚ùå (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç cookie) |
| POST | `/api/auth/logout` | –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã | ‚ùå (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç cookie) |
| GET | `/api/auth/me` | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ‚úÖ |

### üë§ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –º–∞—Å—Ç–µ—Ä–∞ (`/api/me`)

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ `router.use(auth)`.

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/api/me` | –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Å—Ç–µ—Ä–µ |
| GET | `/api/me/appointments` | –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π –º–∞—Å—Ç–µ—Ä–∞ |
| GET | `/api/me/clients` | –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ –º–∞—Å—Ç–µ—Ä–∞ |
| GET | `/api/me/clients/:id/history` | –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å–µ—â–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞ |
| GET | `/api/me/services` | –°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥ –º–∞—Å—Ç–µ—Ä–∞ |
| GET | `/api/me/services/:id` | –ü–æ–ª—É—á–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ –ø–æ ID |
| GET | `/api/me/analytics` | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü |
| PATCH | `/api/me/profile` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –º–∞—Å—Ç–µ—Ä–∞ |
| POST | `/api/me/profile/upload-photo` | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è |
| POST | `/api/me/services` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —É—Å–ª—É–≥–∏ |
| PATCH | `/api/me/services/:id` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ |
| DELETE | `/api/me/services/:id` | –£–¥–∞–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ |
| PUT | `/api/me/appointments/:id` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–ø–∏—Å–∏ |
| POST | `/api/me/appointments/:id/photos` | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –∫ –∑–∞–ø–∏—Å–∏ |
| DELETE | `/api/me/appointments/:id/photos/:photoId` | –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ –∏–∑ –∑–∞–ø–∏—Å–∏ |

### üõ†Ô∏è –£—Å–ª—É–≥–∏ (`/api/services`)

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ `router.use(auth)`.

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/api/services` | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —É—Å–ª—É–≥ –º–∞—Å—Ç–µ—Ä–∞ |
| POST | `/api/services` | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —É—Å–ª—É–≥–∏ |
| GET | `/api/services/:id` | –ü–æ–ª—É—á–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ –ø–æ ID |
| PATCH | `/api/services/:id` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ |
| DELETE | `/api/services/:id` | –£–¥–∞–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ |

### üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (`/api/users`)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ | –¢—Ä–µ–±—É–µ—Ç Auth |
|-------|------|----------|--------------|
| GET | `/api/users` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | ‚úÖ |

## –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–Ω–µ —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é)

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/api/health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞ |
| GET | `/api/db/status` | –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î |
| GET | `/api/public/:slug` | –ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –º–∞—Å—Ç–µ—Ä–∞ |
| GET | `/api/public/:slug/timeslots` | –î–æ—Å—Ç—É–ø–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã |
| POST | `/api/public/:slug/book` | –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API |

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:

```bash
npm test -- protected-endpoints.test.ts
```

–¢–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
- ‚úÖ –í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 401 –±–µ–∑ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 401 —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
- ‚úÖ –í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 401 —Å –∏—Å—Ç—ë–∫—à–∏–º —Ç–æ–∫–µ–Ω–æ–º
- ‚úÖ –í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–µ —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

### –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
export TEST_EMAIL=anna@example.com
export TEST_PASSWORD=password123
export API_URL=http://localhost:3000

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
ts-node scripts/check-protected-endpoints.ts
```

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- –í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –±–µ–∑ —Ç–æ–∫–µ–Ω–∞
- –í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å –≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
- –í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º
- –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

## Middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–í—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç middleware `auth` –∏–∑ `src/middleware/auth.ts`:

```typescript
export const auth = (req: Request, res: Response, next: NextFunction) => {
  const header = req.headers.authorization;
  if (!header || !header.startsWith('Bearer ')) {
    return res.status(401).json({ error: 'Authorization header missing' });
  }
  const token = header.split(' ')[1];
  try {
    const payload = jwt.verify(
      token,
      process.env.JWT_SECRET as string
    ) as JwtPayload;
    req.user = { id: payload.userId };
    next();
  } catch {
    return res.status(401).json({ error: 'Invalid or expired token' });
  }
};
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ middleware:

1. **–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization**: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "Authorization header missing"
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞**: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "Authorization header missing"
3. **–ù–µ–≤–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω**: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "Invalid or expired token"
4. **–ò—Å—Ç—ë–∫—à–∏–π —Ç–æ–∫–µ–Ω**: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "Invalid or expired token"
5. **–í–∞–ª–∏–¥–Ω—ã–π —Ç–æ–∫–µ–Ω**: –¥–æ–±–∞–≤–ª—è–µ—Ç `req.user = { id: userId }` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `next()`

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç access token –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ 401 –æ—à–∏–±–∫–∏:

1. –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å –∫–æ–¥–æ–º 401
2. –í—ã–∑—ã–≤–∞–µ—Ç `/api/auth/refresh` —Å refresh token –∏–∑ cookie
3. –ü–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–π access token
4. –ü–æ–≤—Ç–æ—Ä—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º

–≠—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `crm-beauty-frontend/src/api/index.ts` —á–µ—Ä–µ–∑ axios interceptors.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Access Token
- **–°—Ä–æ–∫ –∂–∏–∑–Ω–∏**: 15 –º–∏–Ω—É—Ç
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: localStorage (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –í –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization: Bearer <token>`

### Refresh Token
- **–°—Ä–æ–∫ –∂–∏–∑–Ω–∏**: 7 –¥–Ω–µ–π
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: HttpOnly cookie (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ, —á–µ–º localStorage)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü—Ä–∏ –∫–∞–∂–¥–æ–º –ª–æ–≥–∏–Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π refresh token

### –ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫

1. **XSS**: Refresh token –≤ HttpOnly cookie –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è JavaScript
2. **CSRF**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `sameSite: 'strict'` –¥–ª—è cookie
3. **Token Rotation**: –ü—Ä–∏ –∫–∞–∂–¥–æ–º –ª–æ–≥–∏–Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π refresh token
4. **Token Revocation**: –ü—Ä–∏ logout refresh token —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –ë–î

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

```bash
curl -X GET http://localhost:3000/api/auth/me \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Å–ª—É–≥

```bash
curl -X GET http://localhost:3000/api/services \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

```bash
curl -X POST http://localhost:3000/api/auth/refresh \
  -H "Content-Type: application/json" \
  --cookie "refreshToken=YOUR_REFRESH_TOKEN"
```

## –û—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Authorization: Bearer <token>`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç—ë–∫ (—Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ 15 –º–∏–Ω—É—Ç)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º JWT)
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `/api/auth/refresh`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:

1. –î–æ–±–∞–≤—å—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª —Ä–æ—É—Ç–æ–≤
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è middleware `auth`
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç –≤ `protected-endpoints.test.ts`
4. –û–±–Ω–æ–≤–∏—Ç–µ —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç





