# –ê—É–¥–∏—Ç —Å–≤—è–∑–µ–π Prisma –∏ –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —É–¥–∞–ª–µ–Ω–∏–π

## –î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

2025-01-XX

## –û–±–∑–æ—Ä

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–≤—è–∑–µ–π –≤ —Å—Ö–µ–º–µ Prisma –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —É–¥–∞–ª–µ–Ω–∏–π.

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏

### 1. User (Master) ‚Üí –î–æ—á–µ—Ä–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏

–í—Å–µ —Å–≤—è–∑–∏ —Å `onDelete: Cascade` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

- ‚úÖ `User ‚Üí Service` (onDelete: Cascade)
- ‚úÖ `User ‚Üí Client` (onDelete: Cascade)
- ‚úÖ `User ‚Üí Appointment` (onDelete: Cascade)
- ‚úÖ `User ‚Üí Integration` (onDelete: Cascade)
- ‚úÖ `User ‚Üí Review` (onDelete: Cascade)
- ‚úÖ `User ‚Üí PortfolioPhoto` (onDelete: Cascade)
- ‚úÖ `User ‚Üí PasswordResetToken` (onDelete: Cascade)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –º–∞—Å—Ç–µ—Ä–∞ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è –∫–∞—Å–∫–∞–¥–Ω–æ.

### 2. Client ‚Üí Photo

- ‚úÖ `Client ‚Üí Photo` (onDelete: Cascade)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ –≤—Å–µ –µ–≥–æ —Ñ–æ—Ç–æ —É–¥–∞–ª—è—é—Ç—Å—è –∫–∞—Å–∫–∞–¥–Ω–æ.

### 3. Appointment ‚Üí –í—Å–µ —Å–≤—è–∑–∏

- ‚úÖ `Appointment ‚Üí User` (onDelete: Cascade)
- ‚úÖ `Appointment ‚Üí Client` (onDelete: Cascade)
- ‚úÖ `Appointment ‚Üí Service` (onDelete: Cascade)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –º–∞—Å—Ç–µ—Ä–∞, –∫–ª–∏–µ–Ω—Ç–∞ –∏–ª–∏ —É—Å–ª—É–≥–∏ –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —É–¥–∞–ª—è—é—Ç—Å—è –∫–∞—Å–∫–∞–¥–Ω–æ.

---

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–´: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —É–¥–∞–ª–µ–Ω–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Service ‚Üí Appointment

**–¢–µ–∫—É—â–∞—è —Å—Ö–µ–º–∞:**

```prisma
model Service {
  // ...
  appointments Appointment[]
  // –ù–ï–¢ onDelete: Cascade –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
}

model Appointment {
  // ...
  service    Service    @relation(fields: [serviceId], references: [id], onDelete: Cascade)
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –í —Å—Ö–µ–º–µ `Appointment` —É–∫–∞–∑–∞–Ω–æ `onDelete: Cascade` –¥–ª—è —Å–≤—è–∑–∏ —Å `Service`
- –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ `Service` –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ `Appointment` –¥–æ–ª–∂–Ω—ã —É–¥–∞–ª—è—Ç—å—Å—è
- **–ù–û:** –í –∫–æ–¥–µ –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º —É—Å–ª—É–≥–∏ (—Å—Ç—Ä–æ–∫–∏ 182-197 –≤ `servicesController.ts`), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏

**–ê–Ω–∞–ª–∏–∑:**

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ `PENDING` –∏ `CONFIRMED`
- –ó–∞–ø–∏—Å–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ `COMPLETED`, `CANCELED`, `NO_SHOW` –º–æ–≥—É—Ç –æ—Å—Ç–∞—Ç—å—Å—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —É—Å–ª—É–≥–∏
- –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤ Prisma –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–¥–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—É

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

- –£–±—Ä–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∏–∑ –∫–æ–¥–∞ –∏ –ø–æ–ª–∞–≥–∞—Ç—å—Å—è –Ω–∞ –∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ Prisma
- –ò–õ–ò –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, —á—Ç–æ–±—ã –æ–Ω–∞ –ø—Ä–æ–≤–µ—Ä—è–ª–∞ –í–°–ï –∑–∞–ø–∏—Å–∏, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ
- –ò–õ–ò –¥–æ–±–∞–≤–∏—Ç—å soft delete –¥–ª—è —É—Å–ª—É–≥ (isActive = false) –≤–º–µ—Å—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Client ‚Üí Appointment

**–¢–µ–∫—É—â–∞—è —Å—Ö–µ–º–∞:**

```prisma
model Client {
  // ...
  appointments Appointment[]
  // –ù–ï–¢ —è–≤–Ω–æ–≥–æ onDelete –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
}

model Appointment {
  // ...
  client     Client     @relation(fields: [clientId], references: [id], onDelete: Cascade)
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Service, –≤ `Appointment` —É–∫–∞–∑–∞–Ω–æ `onDelete: Cascade` –¥–ª—è —Å–≤—è–∑–∏ —Å `Client`
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ –≤—Å–µ –µ–≥–æ –∑–∞–ø–∏—Å–∏ –¥–æ–ª–∂–Ω—ã —É–¥–∞–ª—è—Ç—å—Å—è –∫–∞—Å–∫–∞–¥–Ω–æ
- **–ù–û:** –í –∫–æ–¥–µ –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–∞

**–ê–Ω–∞–ª–∏–∑:**

- –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ù–µ—Ç —è–≤–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã, –Ω–æ —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ endpoint –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ endpoint –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- –ï—Å–ª–∏ endpoint –µ—Å—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Ç–æ–º, —á—Ç–æ –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–∞ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã

---

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –æ—Ç–Ω–æ—à–µ–Ω–∏–π Service/Master/Client

### –ì—Ä–∞—Ñ —Å–≤—è–∑–µ–π:

```
User (Master)
‚îú‚îÄ‚îÄ Service (onDelete: Cascade)
‚îÇ   ‚îî‚îÄ‚îÄ Appointment (onDelete: Cascade) ‚úÖ
‚îú‚îÄ‚îÄ Client (onDelete: Cascade)
‚îÇ   ‚îú‚îÄ‚îÄ Appointment (onDelete: Cascade) ‚úÖ
‚îÇ   ‚îî‚îÄ‚îÄ Photo (onDelete: Cascade) ‚úÖ
‚îî‚îÄ‚îÄ Appointment (onDelete: Cascade) ‚úÖ
```

### –°—Ü–µ–Ω–∞—Ä–∏–∏ —É–¥–∞–ª–µ–Ω–∏—è:

#### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –£–¥–∞–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞ (User)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. –£–¥–∞–ª—è–µ—Ç—Å—è User
2. –ö–∞—Å–∫–∞–¥–Ω–æ —É–¥–∞–ª—è—é—Ç—Å—è:
   - ‚úÖ –í—Å–µ Service
   - ‚úÖ –í—Å–µ Client
   - ‚úÖ –í—Å–µ Appointment (—á–µ—Ä–µ–∑ User, Client –∏ Service)
   - ‚úÖ –í—Å–µ Integration
   - ‚úÖ –í—Å–µ Review
   - ‚úÖ –í—Å–µ PortfolioPhoto
   - ‚úÖ –í—Å–µ PasswordResetToken

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –£–¥–∞–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∏ (Service)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. –£–¥–∞–ª—è–µ—Ç—Å—è Service
2. –ö–∞—Å–∫–∞–¥–Ω–æ —É–¥–∞–ª—è—é—Ç—Å—è:
   - ‚úÖ –í—Å–µ Appointment —Å —ç—Ç–∏–º serviceId

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –í –∫–æ–¥–µ –µ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (PENDING, CONFIRMED)
- –ù–æ –∑–∞–ø–∏—Å–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏ (COMPLETED, CANCELED, NO_SHOW) –º–æ–≥—É—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã –≤–º–µ—Å—Ç–µ —Å —É—Å–ª—É–≥–æ–π
- –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–æ–π –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏/–∞–Ω–∞–ª–∏—Ç–∏–∫–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å soft delete –¥–ª—è —É—Å–ª—É–≥ (isActive = false)
- –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É: –Ω–µ —É–¥–∞–ª—è—Ç—å —É—Å–ª—É–≥—É, –µ—Å–ª–∏ –µ—Å—Ç—å –õ–Æ–ë–´–ï –∑–∞–ø–∏—Å–∏ (–Ω–µ —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ)

#### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ (Client)

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. –£–¥–∞–ª—è–µ—Ç—Å—è Client
2. –ö–∞—Å–∫–∞–¥–Ω–æ —É–¥–∞–ª—è—é—Ç—Å—è:
   - ‚úÖ –í—Å–µ Appointment —Å —ç—Ç–∏–º clientId
   - ‚úÖ –í—Å–µ Photo –∫–ª–∏–µ–Ω—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**

- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–∞
- –í—Å–µ –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–∞ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã, –≤–∫–ª—é—á–∞—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ (COMPLETED)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–∞
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å soft delete –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ (isActive = false)

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### 1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —É–¥–∞–ª–µ–Ω–∏—è Service

**–¢–µ–∫—É—â–∏–π –∫–æ–¥** (`servicesController.ts:182-197`):

```typescript
const activeAppointments = await prisma.appointment.findFirst({
  where: {
    serviceId: id,
    status: {
      in: ['PENDING', 'CONFIRMED'],
    },
  },
});

if (activeAppointments) {
  return res.status(400).json({
    error: 'Cannot delete service with active appointments',
  });
}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 1 (–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ):** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å soft delete

```typescript
// –í–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è, –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —É—Å–ª—É–≥—É
await prisma.service.update({
  where: { id },
  data: { isActive: false },
});
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 2:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏

```typescript
const appointmentsCount = await prisma.appointment.count({
  where: { serviceId: id },
});

if (appointmentsCount > 0) {
  return res.status(400).json({
    error: 'Cannot delete service with existing appointments',
    message: `This service has ${appointmentsCount} appointment(s). Consider deactivating it instead.`,
  });
}
```

### 2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º Client

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å endpoint —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å soft delete

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–∞
const appointmentsCount = await prisma.appointment.count({
  where: { clientId: id },
});

if (appointmentsCount > 0) {
  return res.status(400).json({
    error: 'Cannot delete client with existing appointments',
    message: `This client has ${appointmentsCount} appointment(s). Consider deactivating instead.`,
  });
}
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π endpoint —É–¥–∞–ª–µ–Ω–∏—è Client

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ù–µ –Ω–∞–π–¥–µ–Ω endpoint –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

- –ï—Å–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –¥–æ–±–∞–≤–∏—Ç—å endpoint —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

### –ö–∞—Å–∫–∞–¥–Ω—ã–µ —É–¥–∞–ª–µ–Ω–∏—è –≤ —Å—Ö–µ–º–µ Prisma:

- ‚úÖ –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –¥–æ—á–µ—Ä–Ω–∏–µ —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –ü—Ä–æ–±–ª–µ–º—ã –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ:

- ‚ö†Ô∏è –£–¥–∞–ª–µ–Ω–∏–µ Service: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π, –Ω–æ –∫–∞—Å–∫–∞–¥ —É–¥–∞–ª–∏—Ç –≤—Å–µ
- ‚ö†Ô∏è –£–¥–∞–ª–µ–Ω–∏–µ Client: –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏/–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
- ‚ö†Ô∏è –ù–µ—Ç endpoint –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è Client (–≤–æ–∑–º–æ–∂–Ω–æ, —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å soft delete (isActive = false) –≤–º–µ—Å—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–ª—è Service –∏ Client
2. –ï—Å–ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, –ø—Ä–æ–≤–µ—Ä—è—Ç—å –í–°–ï —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ
3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è/–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º —Å—É—â–Ω–æ—Å—Ç–µ–π —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## üîß –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã

–ï—Å–ª–∏ —Ä–µ—à–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å soft delete, —Å—Ö–µ–º–∞ —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç—Ç–æ —á–µ—Ä–µ–∑ –ø–æ–ª–µ `isActive`. –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—Ö–µ–º–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

–ï—Å–ª–∏ —Ä–µ—à–µ–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ, —Ç–µ–∫—É—â–∞—è —Å—Ö–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, –Ω–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö.

